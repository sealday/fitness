# 系统设计问题


系统中，任何地方都有可能因为各种原因出错，现在将出错分成几种类型

- 用户错误，是需要反馈给用户的错误，一般属于用户产生的错误，比如说，账号密码输入错误

- 系统错误，需要避免的错误，这种错误不需要反馈具体内容给用户，但需要提醒用户，是因为
系统的原因而出错，而不是用户的错误，提示用户稍后重试或者联系网站管理员。比如数据库连
接产生错误，加密产生错误等等，一经发现就需要处理，网站日常运行的时候需要把这些错误记
录下来，以便后续的使用。

- 逻辑错误，需要避免的错误，这种错误和系统错误还有区别，系统错误可能是程序员已知的，
可以通过一些途径解决或者绕开的错误，还有可能是系统设计本身造成无法正确处理的错误，而
逻辑错误是属于对业务的理解有问题或者实现产生问题的错误，它不会在系统中标明出来，即使
标明也只会是短期的，因为他需要立即被解决掉。


在这个由 js 写的系统中，我是如何处理这些错误的

- 将用户错误和系统错误分别标记
- 用户错误将在代码中检查，发现之后传递给 web 层来处理
- 系统错误一般是由类库提供的 err 变量，将它交给 web 的中间件统一处理
- 逻辑错误通过及时的测试来处理nexu